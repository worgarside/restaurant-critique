extends mixins/layout

block content
    #{daysOfWeek = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]}
    br
    .container
        .row
            .col
                h1.d-inline #{restaurant.name}
                h2.d-inline.pre-space - Edit Restaurant
                br
                br
        .row
            .col-10.offset-1
                form#edit-restaurant-form
                    .row
                        .col-6
                            .form-row.form-group
                                label.col-2.col-form-label(for='name') Name:
                                .col-10
                                    input.form-control#name(type='text' value=restaurant.name required='required')
                            .form-row.form-group
                                label.col-2.col-form-label(for='address-line1') Address
                                .col-5
                                    input.form-control.mb-2#address-line1(type='text' value=restaurant.address.line1 placeholder='Line 1')
                                .col-5
                                    input.form-control.mb-2#address-line2(type='text' value=restaurant.address.line2 placeholder = 'Line 2')
                                .col-5.offset-2
                                    input.form-control.mb-2#address-city(type='text' value=restaurant.address.city placeholder='City')
                                .col-5
                                    input.form-control.mb-2.upper-case#address-postcode(type='text' value=restaurant.address.postcode placeholder='Postcode')
                            .form-row.form-group
                                label.col-2.col-form-label(for='url') Website:
                                .col-10
                                    input.form-control#url(type='text' value=restaurant.url)
                            .form-row.form-group
                                label.col-2.col-form-label(for='name') Menu:
                                .col-10
                                    input.form-control#menu(type='text' value=restaurant.menu)
                            .form-row.form-group
                                label.col-2.col-form-label(for='phone') Phone:
                                .col-10
                                    input.form-control.no-spinner#phone(type='number' value=restaurant.phone)
                            label(for='days-of-week') Opening Times
                            .form-row.form-group.opening-times-form
                                .col-3
                                    select.form-control.opening-times-form#days-of-week
                                        option(value='0') Mon
                                        option(value='1') Tue
                                        option(value='2') Wed
                                        option(value='3') Thu
                                        option(value='4') Fri
                                        option(value='5') Sat
                                        option(value='6') Sun
                                .col-3
                                    input.form-control.opening-times.opening-times-form#opening-time
                                .col-3
                                    input.form-control.opening-times.opening-times-form#closing-time
                                .col-3
                                    button.btn.btn-default.opening-times-form#add-times(onclick="addTimes();", type="button") Add
                            .form-row.form-group#selected-times-row(hidden=true)
                                .col
                                    #selected-opening-times
                            .form-row.form-group
                                .col
                                    label(for='description') Description
                                        small &nbsp;&nbsp;(Max. 280 chars)
                                    textarea.form-control#description(maxlength='280' name='description'
                                    placeholder="Say some things about the restaurant's atmosphere, the kind of " +
                                    "food served, or whatever you feel like!" rows=4 value=restaurant.description)
                            .form-row
                                .form-group.col-6
                                    label.d-block Price Range
                                    label.price-range-label(for='price-lower') £
                                    input.form-control.no-spinner#price-lower(type='number', min=0, max=1000, name='priceLower')
                                    p.d-inline#price-to to
                                    label.price-range-label(for='price-upper') £
                                    input.form-control.no-spinner#price-upper(type='number', min=0, max=1000, name='priceUpper')
                                .form-group.col-6
                                    label.invisible-label(for='price-band')
                                    select.form-control#price-band(name='priceBand')
                                        option(value='', disabled, selected) Price Band
                                        option(value='0') Inexpensive
                                        option(value='1') Medium
                                        option(value='2') Above Average
                                        option(value='3') Premium

                            .form-row
                                .form-group.col
                                    label(for='category') Category
                                    #category-selector
                                        #category-selected
                                        input.form-control#category(placeholder='Start typing to choose the categories', autocomplete='none')
                                        #category-dropdown
                        .col-5.offset-1
                            .form-row#restaurant-images
                                .col
                                    p Upload Images
                                    .input-group#image-upload-link
                                        input.form-control#file-count(type='text', disabled='disabled', value='Click here to upload images')
                                        button.btn.btn-info(type='button') Browse
                                    input.d-none#image-upload(type='file', multiple='multiple', accept='image/*', name='images')
                                    #uploaded-images
                            br
                            .form-row
                                .col
                                    #features
                                        .form-row
                                            .col
                                                p Restaurant Features
                                        .form-row
                                            .col-3.offset-8
                                                p.float-left No
                                                p.float-right Yes
                                        each id in Object.keys(restaurant.features)
                                            - var value = restaurant.features[id].name
                                            .form-row
                                                .col-7.text-right
                                                    p= value
                                                .col-3.offset-1
                                                    .wrapper
                                                        label.invisible-label.no-label(for=`no-${id}`)
                                                        input.no-radio(id=`no-${id}` type='radio', value='0', name=id)
                                                        label.invisible-label.unknown-label(for=`unknown-${id}`)
                                                        input.unknown-radio(id=`unknown-${id}` type='radio', value='1', name=id, checked)
                                                        label.invisible-label.yes-label(for=`yes-${id}`)
                                                        input.yes-radio(id=`yes-${id}` type='radio', value='2', name=id)
                                                        .selected-highlight


    script const categoryVar = JSON.parse(`!{categories}`);
    script(src='//cdnjs.cloudflare.com/ajax/libs/timepicker/1.3.5/jquery.timepicker.min.js')
    // link(rel='stylesheet',  href="/scripts/jquery.timepicker.css")
    script(type='text/javascript', src='/javascripts/restaurant_edit.js')
